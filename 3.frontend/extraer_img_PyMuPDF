import pymupdf

doc = pymupdf.open("docuemento/MenuCompleto-2025.pdf")
ruta_destino = "static/images/"

for page_index in range(len(doc)):
    page = doc[page_index]
    image_list = page.get_images()

    if image_list:
        print(f"Found {len(image_list)} images on page {page_index}")
    else:
        print("No images found on page", page_index)

    for image_index, img in enumerate(image_list, start=1):
        xref = img[0]
        pix = pymupdf.Pixmap(doc, xref)

        if pix.n - pix.alpha > 3:
            pix = pymupdf.Pixmap(pymupdf.csRGB, pix)

        nombre_imagen = f"pagina_{page_index + 1}_imagen_{image_index}.png"
        ruta_completa = ruta_destino + nombre_imagen
        pix.save(ruta_completa) #Guardar imagen en una carpeta.
        pix = None
